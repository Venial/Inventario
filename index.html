<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema de Gesti√≥n de Inventario</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f3f4f6;
        color: #1f2937;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        align-items: center;
      }
      #current-date {
        text-align: center;
        margin-top: 1rem;
        color: #4b5563;
        font-size: 0.875rem;
      }
      .inventory-container {
        width: 95%;
        max-width: 1200px;
        margin-top: 2rem;
        padding: 1.5rem;
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .print-btn {
        margin-bottom: 1rem;
        padding: 0.5rem 1rem;
        background-color: #6b7280;
        color: white;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-family: "Inter", sans-serif;
      }
      .print-btn:hover {
        background-color: #4b5563;
      }
      .search-container {
        display: flex;
        margin-bottom: 1rem;
        gap: 0.75rem;
      }
      .search-container input {
        padding: 0.5rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        flex-grow: 1;
        font-family: "Inter", sans-serif;
      }
      .search-container button {
        padding: 0.5rem 1rem;
        background-color: #10b981;
        color: white;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-family: "Inter", sans-serif;
      }
      .search-container button:hover {
        background-color: #059669;
      }
      #inventory-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        overflow: hidden;
      }
      #inventory-table thead tr {
        background-color: #f9fafb;
        color: #374151;
        text-align: left;
      }
      #inventory-table th,
      #inventory-table td {
        padding: 0.75rem;
        border-bottom: 1px solid #e5e7eb;
      }
      #inventory-table tbody tr:nth-child(odd) {
        background-color: #f9fafb;
      }
      #inventory-table tbody tr:nth-child(even) {
        background-color: white;
      }
      .action-btns {
        display: flex;
        gap: 0.5rem;
      }
      .edit-btn,
      .delete-btn {
        padding: 0.375rem 0.75rem;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-family: "Inter", sans-serif;
        font-size: 0.875rem;
        display: flex; /* A√±adido para centrar el icono y el texto */
        align-items: center;
        gap: 0.25rem; /* Espacio entre el icono y el texto */
      }
      .edit-btn {
        background-color: #3b82f6;
        color: white;
      }
      .edit-btn:hover {
        background-color: #2563eb;
      }
      .delete-btn {
        background-color: #ef4444;
        color: white;
      }
      .delete-btn:hover {
        background-color: #dc2626;
      }
      .modal {
        display: none;
        position: fixed;
        z-index: 10;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
      }
      .modal-content {
        background-color: white;
        padding: 1.5rem;
        border-radius: 0.5rem;
        width: 90%;
        max-width: 500px;
        position: relative;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .close {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        color: #4b5563;
        font-size: 1.5rem;
        cursor: pointer;
      }
      .close:hover {
        color: #1f2937;
      }
      .modal-title {
        margin-bottom: 1rem;
        color: #1f2937;
        font-size: 1.25rem;
        font-weight: 600;
      }
      .form-group {
        margin-bottom: 1rem;
      }
      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: #374151;
        font-weight: 500;
        font-size: 0.875rem;
      }
      .form-group input,
      .form-group select {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        font-family: "Inter", sans-serif;
      }
      .form-group input:focus,
      .form-group select:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.25);
      }
      .btn-success {
        padding: 0.75rem 1.5rem;
        background-color: #10b981;
        color: white;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-family: "Inter", sans-serif;
        font-weight: 600;
        font-size: 1rem;
      }
      .btn-success:hover {
        background-color: #059669;
      }
      .no-print {
        display: block;
      }
      @media print {
        .no-print {
          display: none;
        }
        .inventory-container {
          width: 100%;
          margin: 0;
          padding: 0;
          border-radius: 0;
          box-shadow: none;
        }
        #inventory-table {
          border: none;
        }
        #inventory-table thead {
          display: table-header-group;
        }
        #inventory-table tr {
          page-break-inside: avoid;
        }
      }
    </style>
  </head>
  <body>
    <div id="current-date"></div>
    <div class="inventory-container">
      <button class="print-btn no-print" onclick="window.print()">
        üñ®Ô∏è Imprimir
      </button>
      <div class="search-container no-print">
        <input
          type="text"
          id="search-input"
          placeholder="Buscar producto o rubro..."
          style="flex-grow: 1"
        />
        <button id="add-product-btn">‚ûï Agregar Producto</button>
      </div>
      <table id="inventory-table">
        <thead>
          <tr>
            <th>Producto</th>
            <th>Rubro</th>
            <th>Cantidad</th>
            <th>Unidad</th>
            <th class="no-print">Acciones</th>
          </tr>
        </thead>
        <tbody id="table-body"></tbody>
      </table>
    </div>
    <div id="product-modal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="modal-title">Agregar Producto</h2>
        <form id="product-form">
          <input type="hidden" id="product-id" />
          <div class="form-group">
            <label for="product-name">Producto:</label>
            <input type="text" id="product-name" required />
          </div>
          <div class="form-group">
            <label for="product-category">Rubro:</label>
            <input type="text" id="product-category" required />
          </div>
          <div class="form-group">
            <label for="product-quantity">Cantidad:</label>
            <input type="number" id="product-quantity" step="0.01" required />
          </div>
          <div class="form-group">
            <label for="product-unit">Unidad:</label>
            <select id="product-unit" required>
              <option value="unidades">Unidades</option>
              <option value="kg">Kilogramos (kg)</option>
              <option value="mg">Miligramos (mg)</option>
            </select>
          </div>
          <button type="submit" class="btn-success">Guardar</button>
        </form>
      </div>
    </div>
    <script>
      // Mostrar fecha actual
      function updateDate() {
        const now = new Date();
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          timeZone: "America/Argentina/Buenos_Aires",
        };
        document.getElementById("current-date").textContent =
          now.toLocaleDateString("es-AR", options);
      }
      updateDate();
      setInterval(updateDate, 60000); // Actualizar cada minuto

      // Datos de ejemplo (en una app real, esto vendr√≠a de una base de datos)
      let inventory = [
        {
          id: 1,
          name: "CORAZON",
          category: "ACHURAS",
          quantity: 1,
          unit: "unidades",
        },
        {
          id: 2,
          name: "CHINCHULIN",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 3,
          name: "HIGADO",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 4,
          name: "LENGUA",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 5,
          name: "MOLLEJAS",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 6,
          name: "MONDONGO",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 7,
          name: "RABO",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 8,
          name: "RI√ëON",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 9,
          name: "SESOS",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 10,
          name: "ALITAS",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 11,
          name: "CAJON DE POLLO",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 12,
          name: "CHURRASCO DE POLLO",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 13,
          name: "CODITOS",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 14,
          name: "CUARTO TRASERO",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 15,
          name: "PAVITA",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 16,
          name: "PECHUGA",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 17,
          name: "POLLO DE GRANJA",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 18,
          name: "POLLO DESHUESADO",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 19,
          name: "SUPREMAS DE POLLO",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 20,
          name: "CHIVITO",
          category: "AVES",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 21,
          name: "TRIPA GORDA",
          category: "ACHURAS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 22,
          name: "COCHINILLO",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 23,
          name: "CONEJO",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 24,
          name: "CORDERO",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 25,
          name: "CORDERO TROZADO",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 26,
          name: "LECHON TROZADO",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 27,
          name: "LECHON COCIDO",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 28,
          name: "LECHON",
          category: "BICHOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 29,
          name: "ARA√ëITA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 30,
          name: "MOCHO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 31,
          name: "ASADO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 32,
          name: "ASADO AMERICANO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 33,
          name: "BIFE ANCHO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 34,
          name: "BIFE ANGOSTO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 35,
          name: "BIFE CON LOMO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 36,
          name: "BIFE DE CHORIZO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 37,
          name: "BIFE AMERICANO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 38,
          name: "BIFE MEDIANO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 39,
          name: "BIFES ENTEROS  /LOMO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 40,
          name: "BIFES ENTEROS  /LOMO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 41,
          name: "BOLA DE LOMO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 42,
          name: "CENTRO ENTRA√ëA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 43,
          name: "CHIQUIZUELA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 44,
          name: "COLITA DE CUADRIL",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 45,
          name: "CUADRADA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 46,
          name: "CUADRIL",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 47,
          name: "CUARTO MAYORISTA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 48,
          name: "ENTRA√ëA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 49,
          name: "FALDA PARRILLERA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 50,
          name: "HUESO CON CARNE",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 51,
          name: "LOMO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 52,
          name: "MATAMBRE ESPECIAL",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 53,
          name: "MEDIA RES MAYORISTA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 54,
          name: "NALGA CON TAPA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 55,
          name: "NALGA SIN TAPA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 56,
          name: "OJO DE BIFE",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 57,
          name: "OSOBUCO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 58,
          name: "PALETA ESPECIAL",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 59,
          name: "PALETA C/HUESO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 60,
          name: "PALOMITA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 61,
          name: "PARRILLERO SIN BIFE MAYORISTA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 62,
          name: "PASTRON",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 63,
          name: "PECETO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 64,
          name: "PICADA PREMIUN",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 65,
          name: "PICA√ëIA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 66,
          name: "RECORTES PARA HAMBURGUESA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 67,
          name: "RECORTES PARA PICADA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 68,
          name: "RI√ëONADA DE CUADRIL",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 69,
          name: "ROAST BEEF",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 70,
          name: "ROAST BEEF C/HUESO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 71,
          name: "TOMAHAWK",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 72,
          name: "TAPA DE ASADO",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 73,
          name: "TAPA DE BIFE",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 74,
          name: "TAPA DE NALGA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 75,
          name: "TORTUGUITA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 76,
          name: "VACIO ESPECIAL RES",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 77,
          name: "HAMBURGUESA GORINA",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 78,
          name: "HAMBURGUESA RES PACK X12",
          category: "CARNE",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 79,
          name: "MEDIAS RES CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 80,
          name: "BOLA DE LOMO CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 81,
          name: "BONDIOLA C/ HUESO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 82,
          name: "BONDIOLA DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 83,
          name: "CARRE C/HUESO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 84,
          name: "CARRE DESHUESADO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 85,
          name: "CARRE PREPARADO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 86,
          name: "CHULETA CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 87,
          name: "CHURRASCO DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 88,
          name: "CODILLO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 89,
          name: "COLITA DE CUADRIL CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 90,
          name: "COSTILLITAS DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 91,
          name: "CUADRADA CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 92,
          name: "CUADRIL CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 93,
          name: "MATAMBRITO DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 94,
          name: "MEDIA DE CERDO MAYORISTA",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 95,
          name: "NALGA CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 96,
          name: "OREJA",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 97,
          name: "OSOBUCO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 98,
          name: "PALETA DE CERDO PIEZA ENTERA",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 99,
          name: "PATITA",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 100,
          name: "PECETO CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 101,
          name: "PECHITO DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 102,
          name: "PERNIL DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 103,
          name: "RIBS DE CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 104,
          name: "SOLOMILLO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 105,
          name: "CORTES DE CERDO PA",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 106,
          name: "TAPA DE NALGA CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 107,
          name: "TORTUGUITA CERDO",
          category: "CERDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 108,
          name: "CHORIZO BOMBON",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 109,
          name: "chorizo colorado calchaqui",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 110,
          name: "CHORIZO TRADICIONAL",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 111,
          name: "CHORIZO CON PARMESANO",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 112,
          name: "MORCILLA ATADA",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 113,
          name: "MORCILLA VASCA LA",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 114,
          name: "MORCILLA BOMBOM",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 115,
          name: "SALCHICHA AL VACIO",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 116,
          name: "MORCILLA ROSCA",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 117,
          name: "chorizo copetin la divisa",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 118,
          name: "morcilla copetin la divisa",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 119,
          name: "salchicha parrillera la divisa",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 120,
          name: "SALCHICHA FRESCA ATADA",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 121,
          name: "RECORTE PARA CHORIZO",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 122,
          name: "SALCHICHA PARRILLERA",
          category: "EMBUTIDO",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 123,
          name: "ALBONDIGAS DE CARNE",
          category: "PREPARADOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 124,
          name: "PAN DE CARNE",
          category: "PREPARADOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 125,
          name: "BASTONCITOS DE POLLO",
          category: "PREPARADOS",
          quantity: 0,
          unit: "unidades",
        },
        {
          id: 126,
          name: "BROCHETTES DE LOMO",
          category: "PREPARADOS",
          quantity: 0,
          unit: "unidades",
        },
      ];

      // Elementos del DOM
      const tableBody = document.getElementById("table-body");
      const searchInput = document.getElementById("search-input");
      const addProductBtn = document.getElementById("add-product-btn");
      const modal = document.getElementById("product-modal");
      const closeBtn = document.querySelector(".close");
      const productForm = document.getElementById("product-form");
      const modalTitle = document.getElementById("modal-title");

      // Variables para controlar si estamos editando
      let isEditing = false;
      let currentEditId = null;

      // Formatear unidad para mostrar
      function formatUnit(unit) {
        const unitsMap = {
          unidades: "Unidades",
          kg: "Kg",
          mg: "Mg",
        };
        return unitsMap[unit] || unit;
      }

      // Mostrar productos en la tabla
      function renderInventory(products = inventory) {
        tableBody.innerHTML = "";

        // Filtrar productos con cantidad mayor a 0  <---- AQUI ESTA EL FILTRO
        //const productsToDisplay = products.filter(product => product.quantity > 0);

        // Ordenar por rubro y luego por nombre
        products.sort((a, b) => {
          if (a.category < b.category) return -1;
          if (a.category > b.category) return 1;
          if (a.name < b.name) return -1;
          if (a.name > b.name) return 1;
          return 0;
        });

        products.forEach((product) => {
          const row = document.createElement("tr");

          row.innerHTML = `
                    <td>${product.name}</td>
                    <td>${product.category}</td>
                    <td>${product.quantity}</td>
                    <td>${formatUnit(product.unit)}</td>
                    <td class="no-print action-btns">
                        <button class="edit-btn" data-id="${
                          product.id
                        }">‚úèÔ∏è Editar</button>
                        <button class="btn-danger delete-btn" data-id="${
                          product.id
                        }">üóëÔ∏è Eliminar</button>
                    </td>
                `;

          tableBody.appendChild(row);
        });

        // Agregar event listeners a los botones de editar y eliminar
        document.querySelectorAll(".edit-btn").forEach((btn) => {
          btn.addEventListener("click", handleEdit);
        });

        document.querySelectorAll(".delete-btn").forEach((btn) => {
          btn.addEventListener("click", handleDelete);
        });
      }

      // Buscar productos
      function searchProducts(query) {
        if (!query) {
          renderInventory();
          return;
        }

        const normalizedQuery = normalizeString(query.toLowerCase());

        const results = inventory.filter((product) => {
          const normalizedName = normalizeString(product.name.toLowerCase());
          const normalizedCategory = normalizeString(
            product.category.toLowerCase()
          );

          return (
            normalizedName.includes(normalizedQuery) ||
            normalizedCategory.includes(normalizedQuery)
          );
        });

        renderInventory(results);
      }

      // Normalizar string para b√∫squeda(quitar acentos)
      function normalizeString(str) {
        return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
      }

      // Manejar b√∫squeda en tiempo real
      searchInput.addEventListener("input", (e) => {
        searchProducts(e.target.value);
      });

      // Abrir modal para agregar producto
      addProductBtn.addEventListener("click", () => {
        isEditing = false;
        currentEditId = null;
        modalTitle.textContent = "Agregar Producto";
        productForm.reset();
        document.getElementById("product-id").value = "";
        modal.style.display = "block";
      });

      // Cerrar modal
      closeBtn.addEventListener("click", () => {
        modal.style.display = "none";
      });

      // Cerrar modal al hacer clic fuera
      window.addEventListener("click", (e) => {
        if (e.target === modal) {
          modal.style.display = "none";
        }
      });

      // Manejar env√≠o del formulario (agregar/editar)
      productForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const productData = {
          name: document.getElementById("product-name").value,
          category: document.getElementById("product-category").value,
          quantity: parseFloat(
            document.getElementById("product-quantity").value
          ),
          unit: document.getElementById("product-unit").value,
        };

        if (isEditing) {
          // Editar producto existente
          const index = inventory.findIndex((p) => p.id === currentEditId);
          if (index !== -1) {
            inventory[index] = { ...inventory[index], ...productData };
          }
        } else {
          // Agregar nuevo producto
          const newId =
            inventory.length > 0
              ? Math.max(...inventory.map((p) => p.id)) + 1
              : 1;
          inventory.push({ id: newId, ...productData });
        }

        renderInventory();
        modal.style.display = "none";
        searchProducts(searchInput.value);
      });

      // Manejar edici√≥n de producto
      function handleEdit(e) {
        const productId = parseInt(e.target.getAttribute("data-id"));
        const product = inventory.find((p) => p.id === productId);

        if (product) {
          isEditing = true;
          currentEditId = productId;
          modalTitle.textContent = "Editar Producto";

          document.getElementById("product-id").value = product.id;
          document.getElementById("product-name").value = product.name;
          document.getElementById("product-category").value = product.category;
          document.getElementById("product-quantity").value = product.quantity;
          document.getElementById("product-unit").value = product.unit;

          modal.style.display = "block";
        }
      }

      // Manejar eliminaci√≥n de producto
      function handleDelete(e) {
        if (confirm("¬øEst√°s seguro de que quer√©s eliminar este producto?")) {
          const productId = parseInt(e.target.getAttribute("data-id"));
          inventory = inventory.filter((p) => p.id !== productId);
          renderInventory();
          searchProducts(searchInput.value);
        }
      }

      // Inicializar la tabla
      renderInventory();
    </script>
  </body>
</html>
